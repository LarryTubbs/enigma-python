<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module machine</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>machine</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/Users/larrytubbs/Projects/python/enigma-python/machine.py">/Users/larrytubbs/Projects/python/enigma-python/machine.py</a></font></td></tr></table>
    <p></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="enigma.html">enigma</a><br>
</td><td width="25%" valign=top></td><td width="25%" valign=top></td><td width="25%" valign=top></td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="builtins.html#object">builtins.object</a>
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="machine.html#Machine">Machine</a>
</font></dt></dl>
</dd>
</dl>
 <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="Machine">class <strong>Machine</strong></a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt><a href="#Machine">Machine</a>(type,&nbsp;reflector,&nbsp;r,&nbsp;m,&nbsp;l,&nbsp;pb=None,&nbsp;z=None,&nbsp;rSetting=1,&nbsp;mSetting=1,&nbsp;lSetting=1,&nbsp;zSetting=1,&nbsp;rPosition=1,&nbsp;mPosition=1,&nbsp;lPosition=1,&nbsp;zPosition=1)<br>
&nbsp;<br>
This&nbsp;is&nbsp;the&nbsp;<a href="#Machine">Machine</a>&nbsp;class.&nbsp;&nbsp;It&nbsp;is&nbsp;the&nbsp;main&nbsp;entry&nbsp;point&nbsp;for&nbsp;setting&nbsp;up&nbsp;an&nbsp;Enigma&nbsp;<br>
machine&nbsp;and&nbsp;evaluating&nbsp;text&nbsp;with&nbsp;it.&nbsp;&nbsp;For&nbsp;example:<br>
&nbsp;<br>
&gt;&gt;&gt;&nbsp;m3&nbsp;=&nbsp;<a href="#Machine">Machine</a>("M3",&nbsp;"B",&nbsp;"III",&nbsp;"II",&nbsp;"I",&nbsp;[("A",&nbsp;"B"),&nbsp;("C",&nbsp;"D")])<br>
&gt;&gt;&gt;&nbsp;m3.<a href="#Machine-evaluate">evaluate</a>("m")<br>
'C'<br>
&gt;&gt;&gt;&nbsp;m3.<a href="#Machine-evaluate">evaluate</a>("i")<br>
'O'<br>
&gt;&gt;&gt;&nbsp;m3.<a href="#Machine-evaluate">evaluate</a>("k")<br>
'M'<br>
&gt;&gt;&gt;&nbsp;m3.<a href="#Machine-evaluate">evaluate</a>("e")<br>
'W'<br>
&gt;&gt;&gt;&nbsp;m3.<a href="#Machine-evaluate">evaluate</a>("l")<br>
'U'<br>
&gt;&gt;&gt;&nbsp;m3.<a href="#Machine-evaluate">evaluate</a>("a")<br>
'Y'<br>
&gt;&gt;&gt;&nbsp;m3.<a href="#Machine-evaluate">evaluate</a>("r")<br>
'N'<br>
&gt;&gt;&gt;&nbsp;m3.<a href="#Machine-evaluate">evaluate</a>("r")<br>
'T'<br>
&gt;&gt;&gt;&nbsp;m3.<a href="#Machine-evaluate">evaluate</a>("y")<br>
'G'<br>
&nbsp;<br>
&gt;&gt;&gt;&nbsp;m4&nbsp;=&nbsp;<a href="#Machine">Machine</a>("M4",&nbsp;"b_thin",&nbsp;"III",&nbsp;"II",&nbsp;"I",&nbsp;[("A",&nbsp;"B"),&nbsp;("C",&nbsp;"D")],&nbsp;"g")<br>
&gt;&gt;&gt;&nbsp;m4.<a href="#Machine-evaluate">evaluate</a>("M")<br>
'D'<br>
&gt;&gt;&gt;&nbsp;m4.<a href="#Machine-evaluate">evaluate</a>("I")<br>
'S'<br>
&gt;&gt;&gt;&nbsp;m4.<a href="#Machine-evaluate">evaluate</a>("K")<br>
'S'<br>
&gt;&gt;&gt;&nbsp;m4.<a href="#Machine-evaluate">evaluate</a>("E")<br>
'H'<br>
&gt;&gt;&gt;&nbsp;m4.<a href="#Machine-evaluate">evaluate</a>("L")<br>
'W'<br>
&gt;&gt;&gt;&nbsp;m4.<a href="#Machine-evaluate">evaluate</a>("A")<br>
'S'<br>
&gt;&gt;&gt;&nbsp;m4.<a href="#Machine-evaluate">evaluate</a>("R")<br>
'A'<br>
&gt;&gt;&gt;&nbsp;m4.<a href="#Machine-evaluate">evaluate</a>("R")<br>
'O'<br>
&gt;&gt;&gt;&nbsp;m4.<a href="#Machine-evaluate">evaluate</a>("Y")<br>
'D'<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="Machine-__init__"><strong>__init__</strong></a>(self, type, reflector, r, m, l, pb=None, z=None, rSetting=1, mSetting=1, lSetting=1, zSetting=1, rPosition=1, mPosition=1, lPosition=1, zPosition=1)</dt><dd><tt>To&nbsp;create&nbsp;an&nbsp;enigma&nbsp;machine,&nbsp;you&nbsp;must&nbsp;supply&nbsp;its&nbsp;minimum&nbsp;components.&nbsp;&nbsp;Required&nbsp;parameters&nbsp;are:<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;type&nbsp;-&nbsp;either&nbsp;'M3'&nbsp;or&nbsp;'M4'.&nbsp;For&nbsp;M4&nbsp;machines,&nbsp;a&nbsp;z&nbsp;rotor&nbsp;is&nbsp;also&nbsp;required<br>
&nbsp;&nbsp;&nbsp;&nbsp;reflector&nbsp;-&nbsp;the&nbsp;reflector&nbsp;type&nbsp;for&nbsp;the&nbsp;machine&nbsp;you&nbsp;want&nbsp;to&nbsp;create,&nbsp;matching&nbsp;a&nbsp;key&nbsp;in&nbsp;the&nbsp;enigma.reflectors&nbsp;dictionary.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;To&nbsp;be&nbsp;historically&nbsp;accurate,&nbsp;you&nbsp;should&nbsp;use&nbsp;the&nbsp;"*_thin"&nbsp;variants&nbsp;with&nbsp;the&nbsp;M4&nbsp;machine.&nbsp;&nbsp;They&nbsp;had&nbsp;to&nbsp;create&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;thinner&nbsp;reflectors&nbsp;to&nbsp;make&nbsp;space&nbsp;for&nbsp;the&nbsp;4th&nbsp;rotor.&nbsp;&nbsp;The&nbsp;code&nbsp;will&nbsp;allow&nbsp;any&nbsp;reflector&nbsp;with&nbsp;any&nbsp;machine.<br>
&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;-&nbsp;the&nbsp;type&nbsp;of&nbsp;rotor&nbsp;you&nbsp;want&nbsp;in&nbsp;the&nbsp;right&nbsp;position&nbsp;in&nbsp;the&nbsp;stack,&nbsp;matching&nbsp;a&nbsp;key&nbsp;value&nbsp;in&nbsp;the&nbsp;enigma.rotors&nbsp;dictionary<br>
&nbsp;&nbsp;&nbsp;&nbsp;m&nbsp;-&nbsp;the&nbsp;same&nbsp;for&nbsp;the&nbsp;middle&nbsp;rotor<br>
&nbsp;&nbsp;&nbsp;&nbsp;l&nbsp;-&nbsp;and&nbsp;the&nbsp;left&nbsp;rotor<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
If&nbsp;you&nbsp;are&nbsp;creating&nbsp;an&nbsp;"M4&nbsp;machine,&nbsp;you&nbsp;must&nbsp;also&nbsp;provide:<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;z&nbsp;-&nbsp;the&nbsp;type&nbsp;of&nbsp;z-rotor&nbsp;you&nbsp;want&nbsp;in&nbsp;the&nbsp;rotor&nbsp;stack.&nbsp;&nbsp;There&nbsp;are&nbsp;only&nbsp;two&nbsp;rotors&nbsp;that&nbsp;are&nbsp;valid&nbsp;z&nbsp;rotors,&nbsp;"b"&nbsp;and&nbsp;"g",&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;beta&nbsp;rotors.&nbsp;&nbsp;The&nbsp;library&nbsp;will&nbsp;accept&nbsp;any&nbsp;rotor&nbsp;matching&nbsp;a&nbsp;key&nbsp;value&nbsp;in&nbsp;the&nbsp;engima.rotors&nbsp;dictionary&nbsp;however&nbsp;and&nbsp;the&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;machine&nbsp;function&nbsp;as&nbsp;expected.&nbsp;&nbsp;Rotors&nbsp;in&nbsp;the&nbsp;z&nbsp;or&nbsp;beta&nbsp;position&nbsp;do&nbsp;not&nbsp;rotate&nbsp;however,&nbsp;as&nbsp;per&nbsp;the&nbsp;design&nbsp;of&nbsp;the&nbsp;M4&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Enigma&nbsp;machine.<br>
&nbsp;<br>
Optional&nbsp;parameters&nbsp;allow&nbsp;you&nbsp;to&nbsp;further&nbsp;configue&nbsp;the&nbsp;inital&nbsp;setup&nbsp;of&nbsp;the&nbsp;machine.&nbsp;&nbsp;They&nbsp;are:<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;pb&nbsp;-&nbsp;A&nbsp;list&nbsp;of&nbsp;tuples&nbsp;listing&nbsp;the&nbsp;pairs&nbsp;of&nbsp;letters&nbsp;jumped&nbsp;by&nbsp;the&nbsp;plugboard.&nbsp;&nbsp;Each&nbsp;letter&nbsp;can&nbsp;only&nbsp;be&nbsp;jumped&nbsp;once,&nbsp;and&nbsp;you<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;can't&nbsp;jump&nbsp;a&nbsp;leter&nbsp;to&nbsp;itself.<br>
&nbsp;<br>
Ring&nbsp;settings:<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;rSetting,&nbsp;lSetting,&nbsp;mSetting,&nbsp;zSetting&nbsp;-&nbsp;these&nbsp;default&nbsp;to&nbsp;1&nbsp;(A),&nbsp;but&nbsp;can&nbsp;be&nbsp;setup&nbsp;to&nbsp;any&nbsp;value&nbsp;from&nbsp;1-26&nbsp;(A-Z)<br>
&nbsp;<br>
Inital&nbsp;rotor&nbsp;positions:<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;rPosition,&nbsp;lPosition,&nbsp;mPosition,&nbsp;zPosition&nbsp;-&nbsp;these&nbsp;also&nbsp;default&nbsp;to&nbsp;1&nbsp;(A),&nbsp;but&nbsp;can&nbsp;also&nbsp;be&nbsp;setup&nbsp;to&nbsp;any&nbsp;value&nbsp;from&nbsp;1-26&nbsp;(a-Z)<br>
&nbsp;<br>
M3&nbsp;machines&nbsp;where&nbsp;shipped&nbsp;with&nbsp;Rotors&nbsp;I-V&nbsp;typically.&nbsp;&nbsp;The&nbsp;M4&nbsp;models&nbsp;improved&nbsp;that&nbsp;to&nbsp;rotors&nbsp;I-VIII&nbsp;for&nbsp;the&nbsp;main&nbsp;three&nbsp;rotors,<br>
plus&nbsp;the&nbsp;extra&nbsp;4th&nbsp;"greek"&nbsp;rotor,&nbsp;beta&nbsp;or&nbsp;gamma.&nbsp;&nbsp;The&nbsp;code&nbsp;will&nbsp;allow&nbsp;you&nbsp;to&nbsp;use&nbsp;multiples&nbsp;of&nbsp;the&nbsp;same&nbsp;rotor&nbsp;in&nbsp;any&nbsp;position,&nbsp;<br>
but&nbsp;typically&nbsp;each&nbsp;machine&nbsp;was&nbsp;equipped&nbsp;with&nbsp;a&nbsp;box&nbsp;containing&nbsp;one&nbsp;of&nbsp;each&nbsp;possible&nbsp;rotor.</tt></dd></dl>

<dl><dt><a name="Machine-__repr__"><strong>__repr__</strong></a>(self)</dt><dd><tt>Return&nbsp;repr(self).</tt></dd></dl>

<dl><dt><a name="Machine-__str__"><strong>__str__</strong></a>(self)</dt><dd><tt>Return&nbsp;str(self).</tt></dd></dl>

<dl><dt><a name="Machine-evaluate"><strong>evaluate</strong></a>(self, inputLetter)</dt><dd><tt>emulates&nbsp;handling&nbsp;a&nbsp;keypress&nbsp;on&nbsp;the&nbsp;enigma&nbsp;machine</tt></dd></dl>

<dl><dt><a name="Machine-evaluateMessage"><strong>evaluateMessage</strong></a>(self, msg, blockCount=0)</dt><dd><tt>evaluateMessage&nbsp;emulates&nbsp;an&nbsp;enigma&nbsp;machine&nbsp;operator&nbsp;encoding&nbsp;an&nbsp;entire&nbsp;message.&nbsp;&nbsp;For&nbsp;example,<br>
&nbsp;<br>
&gt;&gt;&gt;&nbsp;m3&nbsp;=&nbsp;<a href="#Machine">Machine</a>("M3",&nbsp;"B",&nbsp;"III",&nbsp;"II",&nbsp;"I",&nbsp;[("A",&nbsp;"B"),&nbsp;("C",&nbsp;"D")])<br>
&gt;&gt;&gt;&nbsp;m3.<a href="#Machine-evaluateMessage">evaluateMessage</a>("Lorem&nbsp;ipsum&nbsp;dolor&nbsp;sit&nbsp;amet,&nbsp;consectetur&nbsp;adipiscing&nbsp;elit,&nbsp;sed&nbsp;do&nbsp;eiusmod&nbsp;tempor&nbsp;incididunt&nbsp;ut&nbsp;labore&nbsp;et&nbsp;dolore&nbsp;magna&nbsp;aliqua.",&nbsp;4)<br>
'PIXW&nbsp;HLIF&nbsp;PVWH&nbsp;EDGC&nbsp;YIUY&nbsp;YXFB&nbsp;SFXW&nbsp;POBL&nbsp;ERUR&nbsp;HDZJ&nbsp;CTNK&nbsp;GZBF&nbsp;BIHF&nbsp;GOSG&nbsp;IYWR&nbsp;MEEZ&nbsp;HQAZ&nbsp;WRKY&nbsp;ZJBV&nbsp;WFDA&nbsp;TOHG&nbsp;EURN&nbsp;NYPX&nbsp;CADE&nbsp;DTHB&nbsp;DB'<br>
&gt;&gt;&gt;&nbsp;m3&nbsp;=&nbsp;<a href="#Machine">Machine</a>("M3",&nbsp;"B",&nbsp;"III",&nbsp;"II",&nbsp;"I",&nbsp;[("A",&nbsp;"B"),&nbsp;("C",&nbsp;"D")])<br>
&gt;&gt;&gt;&nbsp;m3.<a href="#Machine-evaluateMessage">evaluateMessage</a>('PIXW&nbsp;HLIF&nbsp;PVWH&nbsp;EDGC&nbsp;YIUY&nbsp;YXFB&nbsp;SFXW&nbsp;POBL&nbsp;ERUR&nbsp;HDZJ&nbsp;CTNK&nbsp;GZBF&nbsp;BIHF&nbsp;GOSG&nbsp;IYWR&nbsp;MEEZ&nbsp;HQAZ&nbsp;WRKY&nbsp;ZJBV&nbsp;WFDA&nbsp;TOHG&nbsp;EURN&nbsp;NYPX&nbsp;CADE&nbsp;DTHB&nbsp;DB')<br>
'LOREMIPSUMDOLORSITAMETCONSECTETURADIPISCINGELITSEDDOEIUSMODTEMPORINCIDIDUNTUTLABOREETDOLOREMAGNAALIQUA'</tt></dd></dl>

<dl><dt><a name="Machine-rotateRotors"><strong>rotateRotors</strong></a>(self)</dt><dd><tt>emulates&nbsp;the&nbsp;rotation&nbsp;of&nbsp;the&nbsp;rotors&nbsp;when&nbsp;a&nbsp;key&nbsp;is&nbsp;pressed&nbsp;on&nbsp;the&nbsp;enigma&nbsp;machine.&nbsp;&nbsp;This&nbsp;should&nbsp;only&nbsp;be&nbsp;called&nbsp;internally<br>
by&nbsp;the&nbsp;class&nbsp;when&nbsp;the&nbsp;<a href="#Machine-evaluate">evaluate</a>()&nbsp;method&nbsp;is&nbsp;invoked.</tt></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table></td></tr></table>
</body></html>